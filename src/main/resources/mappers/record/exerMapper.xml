<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.multipjt.multi_pjt.record.exercise.dao.ExerMapper">


    <!-- exerInsert --> 

    <insert id="exerInsert" parameterType="com.multipjt.multi_pjt.record.exercise.domain.ExerRequestDTO">
        insert into ExerciseRecords(exercise_type, intensity, member_id, duration, calories)
        values(#{exercise_type},#{intensity},#{member_id},#{duration}, #{calories});
    </insert>

    <!-- exerDelete --> 

    <delete id="exerDelete" parameterType="java.lang.Long">
        delete from ExerciseRecords
        where exercise_id = #{exerciseId};
    </delete>

    <!-- exerIdGet --> 

    <select id="exerIdGet" parameterType="java.util.Map">
        select exercise_id from ExerciseRecords
        where exercise_type = #{exerciseType} and record_date = #{recordDate} and member_id = #{memberId};
    </select>    

    <!-- exerUpdate --> 

    <update id="exerUpdate" parameterType="java.util.Map">
        update ExerciseRecords
        set intensity = #{intensity}, duration = #{duration}, calories = #{calories}
        where exercise_id = #{exerciseId};
    </update>

    <!-- exerDaySelect --> 

    <select id="exerDaySelect" parameterType="java.util.Map" resultType="com.multipjt.multi_pjt.record.exercise.domain.ExerResponseDTO">
        select * from ExerciseRecords
        where member_id = #{memberId} and record_date = #{recordDate};
    </select>


    <!-- setInsert --> 

    <insert id="setInsert" parameterType="com.multipjt.multi_pjt.record.exercise.domain.SetRequestDTO">
        insert into ExerciseSet(distance,weight,repetitions,exercise_id)
        values(#{distance},#{weight},#{repetitions},#{exercise_id});
    </insert>

    <select id="getSetInfo" parameterType="java.lang.Long" resultType="com.multipjt.multi_pjt.record.exercise.domain.SetResponseDTO">
        select * from ExerciseSet
        where exercise_id = #{exerciseId}    
    </select>

    <!-- setUpdate --> 

    <update id="setUpdate" parameterType="java.util.Map">
        update ExerciseSet
        set distance = #{distance} , weight = #{weight} , repetitions = #{repetitions}
        where set_id = #{set_id};
    </update>

    <!-- setDelete --> 

    <delete id="setDelete" parameterType="java.lang.Long">
        delete from ExerciseSet
        where set_id = #{setId};
    </delete>
    
    </mapper>